{% extends 'main/layout.html' %}

{% block title %}Все устройства{% endblock %}

{% block content %}

<div class='table-set'>
    <table id="example" class="display" style="width:100%">
        <thead>
            <tr>
                <!-- <th>№</th> -->
                <th>Инвентарный номер</th>
                <th>Аппарат</th>
                <th>Серийный номер</th>
                <th>Расходный материал</th>
                <th>Корпус</th>
                <th>Расположение</th>
                <th>Примечание</th>
                <th>Hostname</th>
                <th>ip-адрес</th>
            </tr>
        </thead>
        <tbody>
            {% for device in devices.qs %}
            <tr>
                <td>{{ device.inv_num }}</td>
                <td>{{ device.prod_mod_dev }}</td>
                <td>{{ device.serial }}</td>
                <td>
                    {% for cartridge in device.prod_mod_dev.model.all %}
                    {{ cartridge.cartridge }}<br>
                    {% endfor %}
                </td>
                <td>{{ device.building }}</td>
                <td>{{ device.location }}</td>
                <td>{{ device.note }}</td>
                <td>{{ device.hostname }}</td>
                <td>{{ device.ip_add }}</td>

            </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        $(document).ready(function () {
            $('#example').DataTable({
                paging: false,
                searching: false,
                info: false,
                fixedHeader: true,
                scrollY: '85vh',
                scroller: true,
            })
        });

    </script>
</div>

<div class="filter-device">
    <h3 class="display-6">Найди меня</h3>
    <form method="get" class="custom-form">
        {{ devices.form }}
        <button class="btn btn-success" type="submit">Найти</button>
    </form>
</div>


{% endblock %}